<div class="main">
    @if (isAuthenticated) {
            @if (router.url.includes('/editor')) {
            <div class="editor-menu">
                <button matTooltip="Save project" mat-icon-button (click)="saveProjectToFirebase()">
                    <mat-icon>save</mat-icon>
                </button>
                <hr>
                <button matTooltip="Export to File" mat-icon-button [matMenuTriggerFor]="exportMenu">
                    <mat-icon>download</mat-icon>
                </button>
                <mat-menu #exportMenu="matMenu">
                    <button mat-menu-item (click)="exportAsJSON()">
                        <mat-icon>code</mat-icon>
                        <span>Export as JSON</span>
                    </button>
                    <button mat-menu-item (click)="exportAsSTEP()">
                        <mat-icon>precision_manufacturing</mat-icon>
                        <span>Export as STEP</span>
                    </button>
                    <button mat-menu-item (click)="exportAsSTL()">
                        <mat-icon>view_in_ar</mat-icon>
                        <span>Export as STL</span>
                    </button>
                </mat-menu>
                <button matTooltip="Open project from File" mat-icon-button (click)="uploadFromLocalFile()">
                    <mat-icon>upload</mat-icon>
                </button>
                <hr>
                <button matTooltip="add Square/Cube" mat-icon-button (click)="rectangle()">
                    <mat-icon>square</mat-icon>
                </button>
                <button matTooltip="add Circle/Cylinder" mat-icon-button (click)="circle()">
                    <mat-icon>circle</mat-icon>
                </button>
                <button matTooltip="add Freeform" mat-icon-button (click)="freeform()">
                    <mat-icon>interests</mat-icon>
                </button>
                <hr>
            </div>
        }
    } @else {
        <button matButton (click)="login()">Login</button>
        <button matButton (click)="register()">Register</button>
    }
    <div class="right-align">
        @if (isAuthenticated) {
            <span class="user-span">{{ authService.currentUserSignal()?.username }}</span>
            <button matButton (click)="logout()">Logout</button>
        } @else {
            <span class="user-span">Please login to use this app!</span>
        }
        <button matButton (click)="home()"><h1 id="title">Minimal CAD</h1></button>
    </div>
</div>
